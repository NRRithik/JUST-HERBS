<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style-1.css/style.css">
    <link rel="stylesheet" href="style-1.css/skin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel= "stylesheet" >
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" ></script>
</head>
<body>
    <div class="above-hdr"></div>

    <div class="hdr">
        <a href="index.html" style="text-decoration: none;color: black;"><h1>JUST HERBS</h1></a>

        <div class="mt-3 container">
            <div  class="btn-group">
                <button type="button" class="btn btn-dark dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">SKIN</button>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="sunprot.html">SUN PROTECTION</a></li>
                    <li><a class="dropdown-item" href="toners.html">TONERS</a></li>
                </ul>

                <button type="button" class="btn btn-dark dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">HAIR</button>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="hairoil.html">HAIR OILS</a></li>
                    <li><a class="dropdown-item" href="hairserum.html">HAIR SERUM</a></li>
                </ul>

                <button type="button" class="btn btn-dark dropdown-toggle"  data-bs-toggle="dropdown" aria-expanded="false">BATH & BODY</button>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="bodyoil.html">BODY OIL</a></li>
                    <li><a class="dropdown-item" href="bodylotion.html">BODY LOTION</a></li>
                </ul>

                <a href="offers.html">
                    <button type="button" class="btn btn-dark "  aria-expanded="false">OFFERS</button>
                </a>
                <!-- <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#">asd</a></li>
                    <li><a class="dropdown-item" href="#">fgh</a></li>
                </ul> -->
            </div>
        </div>
        <!-- <ul>
            <li>SKIN</li>&nbsp;&nbsp;
            <li>HAIR</li>&nbsp;&nbsp;
            <li>BATH & BODY</li>&nbsp;&nbsp;
            <li>OFFERS</li>&nbsp;&nbsp;
        </ul>  -->

        <form id="searchForm" class="p-5">
            <input id="searchInput" class="form-control" list="browsers" placeholder="search">
            <datalist id="browsers">
                <option value="Sunprotection">
                <option value="Toners">
                <option value="Hair oils">
                <option value="Hair serum">
                <option value="Body oil">
                <option value="Body lotion">
            </datalist>
        </form>

        <div class="hdr-icons">
            <a href="register/register.html" style="color: black;"> <i class="fa fa-sign-in" aria-hidden="true" ></i> </a>&nbsp;&nbsp;
            <a href="#cart" style="color: black;"> <i class="fa fa-shopping-cart" aria-hidden="true"></i> </a>
        </div>
    </div>


    <div class="bellow-hdr">
        <h3>Hair Serum</h3>
    </div>



    <div class="id">
            <!-- the ID structure starts here  -->
        <div id="product17" class="card" style="width:250px">
            <img class="card-img-top" src="https://www.justherbs.in/cdn/shop/files/02_7de9385b-b74e-4781-92b9-8f49c3eb207d_520x.jpg?v=1717831417" style="width:100%">
            <div class="card-body">
                <h4 class="card-title">Hair Serum with Rosemary</h4>
                <p class="card-text">Size - 30 ml</p>
                <h6 class="card-text">MRP ₹399.00</h6>
                <a  class="btn btn-dark w-100" onclick="addToCart('product17')">Add to cart</a>
            </div>
        </div>

        <div id="product18" class="card" style="width:250px">
            <img class="card-img-top" src="https://www.justherbs.in/cdn/shop/files/Rosemary_Bhringraj_Hair_Serum_1280x.jpg?v=1717831407" style="width:100%">
            <div class="card-body">
                <h4 class="card-title">Hair Serum with Bhringraj</h4>
                <p class="card-text">Size - 50 ml</p>
                <h6 class="card-text">MRP ₹499.00</h6>
                <a  class="btn btn-dark w-100" onclick="addToCart('product18')">Add to cart</a>
            </div>
        </div>
        <!-- the ID structure ends here -->
    </div>

    <div id="cart">
        <center><h1 style="margin-top: 2%;">YOUR CART</h1></center>
        <div class="cart-section" >
            <div id="cartContent" style="display: flex;gap: 15px;">
                <h5>Your cart is empty.</h5>
            </div>
        </div>
    </div>


    <footer>
        <table>
            <tr>
                <th>SHOP</th>
                <th>ABOUT</th>
                <th>HELP</th>
            </tr>
            <tr>
                <td>SKIN</td>
                <td>OUR STORY</td>
                <td>CONTACT US</td>
            </tr>
            <tr>
                <td>HAIR</td>
                <td>JH-EDIT</td>
                <td>PRIVACY POLICY</td>
            </tr>
            <tr>
                <td>BATH & BODY</td>
                <td>GIFTING</td>
                <td>REFUND POLICY</td>
            </tr>
        </table>
    </footer>



</body>
<script>
    // cart script starts here


// Cart object to store products
const cart = {};

/**
 * Add a product to the cart by cloning its div.
 * @param {string} productId - The ID of the product to add.
 */
function addToCart(productId) {
    // Check if the product is already in the cart
    if (cart[productId]) {
        // If the product exists, just increment its quantity
        cart[productId].quantity++;
    } else {
        // Clone the product div
        const productDiv = document.getElementById(productId);
        const clonedDiv = productDiv.cloneNode(true);

        // Remove the original "Add to cart" button from the cloned div
        const addToCartButton = clonedDiv.querySelector("button");
        if (addToCartButton) addToCartButton.remove();

        // Add quantity controls (actions) to the cloned div
        const actionsDiv = document.createElement("div");
        actionsDiv.className = "cart-actions";
        actionsDiv.innerHTML = `
            <button class="btn btn-sm btn-success">+</button>
            <span>Quantity: 1</span>
            <button class="btn btn-sm btn-warning">-</button>
            <button class="btn btn-sm btn-danger">Remove</button>
        `;

        // Append the actions to the cloned div
        clonedDiv.appendChild(actionsDiv);

        // Add the product to the cart object
        cart[productId] = {
            element: clonedDiv, // Store the cloned div
            quantity: 1 // Initialize quantity
        };
    }

    // Update the cart display
    renderCart();
}

/**
 * Render the cart items in the cart section.
 */
function renderCart() {
    const cartContent = document.getElementById("cartContent");
    cartContent.innerHTML = ""; // Clear the current cart content

    const cartItems = Object.keys(cart); // Get all product IDs in the cart

    if (cartItems.length === 0) {
        // If the cart is empty, display a message
        cartContent.innerHTML = "<p>Cart is empty.</p>";
        return;
    }

    // Loop through each product in the cart
    cartItems.forEach(productId => {
        const { element, quantity } = cart[productId];

        // Update the quantity display in the cloned div
        const quantitySpan = element.querySelector(".cart-actions span");
        if (quantitySpan) quantitySpan.textContent = `Quantity: ${quantity}`;

        // Attach event listeners for the quantity controls
        const [plusButton, minusButton, removeButton] = element.querySelectorAll(".cart-actions button");

        // Event listener for the "+" button
        plusButton.onclick = () => {
            cart[productId].quantity++; // Increment quantity
            renderCart(); // Re-render the cart
        };

        // Event listener for the "-" button
        minusButton.onclick = () => {
            if (cart[productId].quantity > 1) {
                cart[productId].quantity--; // Decrement quantity
            } else {
                delete cart[productId]; // Remove the product if quantity is 0
            }
            renderCart(); // Re-render the cart
        };

        // Event listener for the "Remove" button
        removeButton.onclick = () => {
            delete cart[productId]; // Remove the product from the cart
            renderCart(); // Re-render the cart
        };

        // Append the cloned div to the cart content
        cartContent.appendChild(element);
    });
}
    // cart script ends here

        // search redirection starts here
        // JavaScript to handle selection and redirection
        document.getElementById('searchInput').addEventListener('change', function () {
        const selectedValue = this.value.toLowerCase();
        const fileMap = {
            "sunprotection": "sunprot.html",
            "toners" : "toners.html",
            "hair oils": "hairoils.html",
            "hair serum": "hairserum.html",
            "body oil": "bodyoil.html",
            "body lotion": "bodylotion.html"
        };

        if (fileMap[selectedValue]) {
            // Redirect to the corresponding file
            window.location.href = fileMap[selectedValue];
        } else {
            alert("No matching file for the selected option.");
            
        }
    });
    // search redirection ends here
</script>
</html>